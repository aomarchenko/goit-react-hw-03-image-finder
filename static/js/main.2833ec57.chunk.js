(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3CvRl",Image:"ImageGalleryItem_Image__3YXvD"}},12:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ",Spinner:"ImageGallery_Spinner__obVDz"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2AxMb",Modal:"Modal_Modal__2WBTT"}},16:function(e,t,a){e.exports={Button:"Button_Button__3R1xi"}},21:function(e,t,a){},22:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a.n(n),o=a(0),c=a.n(o),s=(a(21),a(3)),i=a(4),l=a(6),u=a(5),h=(a(22),a(9)),m=a(14),p=a(8),g=a.n(p),d=(a(23),a(1)),b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:""},e.handleInputChange=function(t){e.setState(Object(m.a)({},t.currentTarget.name,t.currentTarget.value))},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.name.trim()?e.props.onSubmit(e.state.name):h.b.error("Please, type name of image to search")},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("header",{className:g.a.Searchbar,children:Object(d.jsxs)("form",{className:g.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(d.jsx)("button",{className:g.a.Button,type:"submit"}),Object(d.jsx)("input",{className:g.a.Input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"name",value:this.state.name,onChange:this.handleInputChange})]})})})}}]),a}(o.Component),j=b,y=a(11),f=a.n(y),O=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.hits;return Object(d.jsx)(d.Fragment,{children:t.map((function(t){return Object(d.jsx)("li",{className:f.a.ImageGalleryItem,children:Object(d.jsx)("img",{className:f.a.Image,src:t.webformatURL,alt:e.props.name,id:t.id})},t.id)}))})}}]),a}(o.Component),v=a(15),x=a.n(v),S=a(16),_=a.n(S),I=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("button",{className:_.a.Button,type:"button",onClick:this.props.onClick,children:"Load more"})})}}]),a}(o.Component),k=a(12),w=a.n(k),C=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={galery:null,page:1,loading:!1},e.nextPage=function(t){e.setState({page:e.state.page+1})},e.mouseClik=function(t){e.props.toggle(),e.props.onImageClick(t.target.id)},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.name===this.props.name&&t.page===this.state.page||(this.setState({loading:!0}),fetch("https://pixabay.com/api/?key=23676314-92d729b6642f8dfd3ee72d5a9&q=".concat(this.props.name,"&image_type=photo&per_page=12&page=").concat(this.state.page)).then((function(e){return e.json()})).then((function(e){return a.setState({galery:e})})).finally((function(){return a.setState({loading:!1})}))),e.name!==this.props.name&&this.setState({page:1}),e.gallery!==this.state.galery&&this.props.onFetch(this.state.galery)}},{key:"render",value:function(){return Object(d.jsxs)(d.Fragment,{children:[this.state.loading&&Object(d.jsx)(x.a,{className:w.a.Spinner,type:"Audio",color:"#00BFFF",height:80,width:80}),this.state.galery&&Object(d.jsx)("ul",{className:w.a.ImageGallery,onClick:this.mouseClik,children:Object(d.jsx)(O,{hits:this.state.galery.hits})}),this.state.galery&&Object(d.jsx)(I,{onClick:this.nextPage})]})}}]),a}(o.Component),F=a(13),M=a.n(F),N=document.querySelector("#modal-root"),D=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&(console.log("Esc"),e.props.toggle())},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props.hits,t=this.props.id,a=e.filter((function(e){return e.id==t}));return Object(n.createPortal)(Object(d.jsx)("div",{className:M.a.Overlay,onClick:this.props.toggle,children:Object(d.jsx)("div",{className:M.a.Modal,children:Object(d.jsx)("img",{src:a[0].largeImageURL,alt:a[0].tags})})}),N)}}]),a}(o.Component),G=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:"",showModal:!1,gallery:null,id:null},e.searchbarSubmit=function(t){e.setState({name:t})},e.galleryFetch=function(t){e.setState({gallery:t})},e.toggleModal=function(){e.setState((function(t){return{showModal:!e.state.showModal}}))},e.onImageClick=function(t){e.setState({id:t})},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j,{onSubmit:this.searchbarSubmit}),Object(d.jsx)(C,{name:this.state.name,onFetch:this.galleryFetch,gallery:this.state.gallery,toggle:this.toggleModal,onImageClick:this.onImageClick}),this.state.showModal&&Object(d.jsx)(D,{hits:this.state.gallery.hits,toggle:this.toggleModal,id:this.state.id}),Object(d.jsx)(h.a,{autoClose:3e3})]})}}]),a}(o.Component),B=G;r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(B,{})}),document.querySelector("#root"))},8:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",Button:"Searchbar_Button__257ni",Input:"Searchbar_Input__3SYi2"}}},[[45,1,2]]]);
//# sourceMappingURL=main.2833ec57.chunk.js.map